# Railway Setup Instructions

## 1. –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

‚úÖ **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ª–æ–≥–æ–≤, –ø—Ä–µ—Å–µ—Ç–æ–≤
‚úÖ **Redis** - –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á –¥–ª—è Celery
‚úÖ **creobot** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å (Telegram bot + Celery worker)

---

## 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ `creobot`

–í Railway Dashboard ‚Üí —Å–µ—Ä–≤–∏—Å `creobot` ‚Üí **Variables** ‚Üí –¥–æ–±–∞–≤—å—Ç–µ:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
BOT_TOKEN=8585315624:AAF0c6m6A5K2JkHUbh9zBMizUF4EZmsUFYc
ADMIN_USER_IDS=481638710,731907172
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –µ—Å—Ç—å):

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ PostgreSQL –∏ Redis:

- ‚úÖ `DATABASE_URL` - –∏–∑ PostgreSQL —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ `REDIS_URL` - –∏–∑ Redis —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ `POSTGRES_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- ‚úÖ `REDIS_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

---

## 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∏ –ø—Ä–µ—Å–µ—Ç—ã.

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Railway CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI
npm install -g @railway/cli

# –ó–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å
railway login

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç
railway link

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
railway run python scripts/init_db_simple.py
```

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ Railway Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å `creobot`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **Deployments**
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π
4. –ù–∞–∂–º–∏—Ç–µ **View Logs**
5. –í –º–µ–Ω—é —Å–ø—Ä–∞–≤–∞ –Ω–∞–∂–º–∏—Ç–µ **Run Command**
6. –í–≤–µ–¥–∏—Ç–µ: `python scripts/init_db_simple.py`
7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ

### –í–∞—Ä–∏–∞–Ω—Ç C: –õ–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ psql

–ï—Å–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã A –∏ B –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SQL –∫–ª–∏–µ–Ω—Ç.

---

## 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

–ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞: **@creometric_bot** (–∏–ª–∏ –≤–∞—à–µ –∏–º—è –±–æ—Ç–∞)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
4. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏:
   - üì∏ –£–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ç–æ
   - üé¨ –£–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–¥–µ–æ
   - üíø MP3 ‚Üí –ì–æ–ª–æ—Å–æ–≤–æ–µ
   - üîµ –í–∏–¥–µ–æ ‚Üí –ö—Ä—É–∂–æ–∫
   - üóúÔ∏è –°–∂–∞—Ç—å –≤–∏–¥–µ–æ
   - üì• –°–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ
   - üìù –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞)
   - ‚ÑπÔ∏è –ò–Ω—Ñ–æ
   - üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

5. **–î–ª—è –∞–¥–º–∏–Ω–æ–≤:** –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/admin` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

---

## 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

### Railway Dashboard:
`creobot` ‚Üí **Deployments** ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí **View Logs**

–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:
```
[*] Bot started successfully
[*] Celery worker started
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis:
–í –ª–æ–≥–∞—Ö Celery –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
[tasks]
  . tasks.compress_video
  . tasks.convert_mp3_to_voice
  . tasks.convert_video_to_circle
  . tasks.download_video
  . tasks.transcribe_video
  . tasks.uniquify_photo
  . tasks.uniquify_video

celery@... ready.
```

---

## 6. –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `BOT_TOKEN` –¥–æ–±–∞–≤–ª–µ–Ω –≤ Variables
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å `python main.py` –∑–∞–ø—É—â–µ–Ω

### Celery –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Redis —Å–µ—Ä–≤–∏—Å **Online**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `REDIS_URL` –µ—Å—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ Celery worker

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ PostgreSQL —Å–µ—Ä–≤–∏—Å **Online**
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ë–î (—Å–º. –ø—É–Ω–∫—Ç 3)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `DATABASE_URL` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

---

## 7. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Railway

```
creobot (—Å–µ—Ä–≤–∏—Å)
‚îú‚îÄ‚îÄ main.py          ‚Üí Telegram bot (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ)
‚îî‚îÄ‚îÄ celery worker    ‚Üí –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á (–æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å)

PostgreSQL (—Å–µ—Ä–≤–∏—Å)
‚îî‚îÄ‚îÄ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

Redis (—Å–µ—Ä–≤–∏—Å)
‚îî‚îÄ‚îÄ –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á
```

–û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å `creobot` –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞:
- `python main.py &` - –±–æ—Ç –≤ —Ñ–æ–Ω–µ
- `celery -A workers.celery_app worker` - –≤–æ—Ä–∫–µ—Ä –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–º –ø–ª–∞–Ω–µ

---

## 8. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Railway CLI

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
railway logs

# –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
railway run <command>

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
railway connect postgres

# –°–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
railway variables

# –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
railway variables set KEY=value
```

---

## –ì–æ—Ç–æ–≤–æ! üéâ

–ë–æ—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ –£–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ç–æ (1-10 –∫–æ–ø–∏–π)
- ‚úÖ –£–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–¥–µ–æ (1-10 –∫–æ–ø–∏–π)
- ‚úÖ MP3 ‚Üí –ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- ‚úÖ –í–∏–¥–µ–æ ‚Üí –ö—Ä—É–∂–æ–∫
- ‚úÖ –°–∂–∞—Ç–∏–µ –≤–∏–¥–µ–æ
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å YouTube/Instagram
- ‚ùå –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞)
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (`/admin`)
